<style>
    oi-multiselect {
        margin-bottom: 20px;
    }
</style>
<h1 id="top">oi.multiselect demo</h1>
<p><a href="https://github.com/tamtakoe/oi.multiselect">GitHub project</a></p>
<hr/>

<h2>Autofocus</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name for item in shopArr"
    ng-model="bundle10"
    autofocus
    placeholder="Select"
    ></oi-multiselect>
</div>
<!--<a href="" ng-click="scrollTo('top')">â†‘ go to top</a>-->
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name for item in shopArr"
ng-model="bundle10"
autofocus
</div>
<pre class="col-md-6">
{{bundle10}}
</pre>
</div>

<h2>Multiple</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name for item in shopArr track by item.id"
    ng-model="bundle1"
    multiple
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name for item in shopArr track by item.id"
ng-model="bundle1"
multiple
</div>
<pre class="col-md-6">
{{bundle1}}
</pre>
</div>

<h2>Single</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item for (key, item) in shopObjShort"
    ng-model="bundle2"
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item for (key, item) in shopObjShort"
ng-model="bundle2"
</div>
<pre class="col-md-6">
{{bundle2}}
</pre>
</div>

<h2>Grouping</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name group by item.category for (key, item) in shopObj"
    ng-model="bundle3"
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name group by item.category for (key, item) in shopObj"
ng-model="bundle3"
</div>
<pre class="col-md-6">
{{bundle3}}
</pre>
</div>

<h2>Filtered</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item for item in shopArrShort | limitTo: 3"
    ng-model="bundle4"
    multiple
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item for item in shopArrShort | limitTo: 3"
ng-model="bundle4"
multiple
</div>
<pre class="col-md-6">
{{bundle4}}
</pre>
</div>

<h2>Lazy loading</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name for item in shopArrFn($query)"
    ng-model="bundle5"
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name for item in shopArrFn($query)"
ng-model="bundle5"
</div>
<pre class="col-md-6">
{{bundle5}}
</pre>
</div>

<h2>Disabled <button class="btn btn-default" ng-init="disabled = true" ng-click="disabled = !disabled">{{disabled ? 'on' : 'off'}}</button></h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item for item in shopArrShort"
    ng-model="bundle6"
    ng-disabled="disabled"
    multiple
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item for item in shopArrShort"
ng-model="bundle6"
ng-disabled="disabled"
multiple
</div>
<pre class="col-md-6">
{{bundle6}}
</pre>
</div>

<h2>Read only</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item for item in shopArrShort"
    ng-model="bundle7"
    readonly
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item for item in shopArrShort"
ng-model="bundle7"
readonly
</div>
<pre class="col-md-6">
{{bundle7}}
</pre>
</div>

<h2>Not empty</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name for item in shopArr"
    ng-model="bundle8"
    notempty
    placeholder="Select"
    ></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name for item in shopArr"
ng-model="bundle8"
notempty
</div>
<pre class="col-md-6">
{{bundle8}}
</pre>
</div>

<h2>Multiple limit</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item for item in shopArrShort"
    ng-model="bundle9"
    multiple
    multiple-limit="3"
    placeholder="Select"
></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item for item in shopArrShort"
ng-model="bundle9"
multiple
multiple-limit="3"
</div>
<pre class="col-md-6">
{{bundle9}}
</pre>
</div>

<h2>Autoselect</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name for (key, item) in shopObj"
    ng-model="bundle13"
    placeholder="Select"
    oi-multiselect-options="{
        newItem: 'autoselect',
        newItemModel: {id: null, name: $query, category: 'shoes'},
        saveTrigger: 'enter, blur'
    }"
></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name for (key, item) in shopObj"
ng-model="bundle13"
oi-multiselect-options="{
    newItem: 'autoselect',
    newItemModel: {id: null, name: $query, category: 'shoes'},
    saveTrigger: 'enter, blur'
}"
</div>
<pre class="col-md-6">
{{bundle13}}
</pre>
</div>

<h2>Prompt</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name for (key, item) in shopObj"
    ng-model="bundle14"
    placeholder="Select"
    oi-multiselect-options="{
        newItem: 'prompt',
        newItemModel: {id: null, name: $query, category: 'shoes'},
        saveTrigger: 'enter, blur'
    }"
></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name for (key, item) in shopObj"
ng-model="bundle14"
oi-multiselect-options="{
    newItem: 'prompt',
    newItemModel: {id: null, name: $query, category: 'shoes'},
    saveTrigger: 'enter, blur'
}"
</div>
<pre class="col-md-6">
{{bundle14}}
</pre>
</div>


<h2>Select <b>as</b> (lazy loading case)</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.id as item.name for item in shopArrFn($query, $querySelectAs)"
    ng-model="bundle15"
    multiple
    placeholder="Select"
    oi-multiselect-options="{
        newItem: 'prompt',
        newItemFn: addItem,
    }"
></oi-multiselect>
</div>
</div>
<div class="row">
<div class="col-md-6">
<div hljs>
ng-options="item.id as item.name for item in shopArrFn($query, $querySelectAs)"
ng-model="bundle15"
multiple
oi-multiselect-options="{
    newItem: 'prompt',
    newItemFn: addItem,
}"
</div>
<div hljs>
$scope.shopArrFn = function(query, querySelectAs) {
    if (querySelectAs) {
        return getOptionsById(querySelectAs);
    } else {
        return findOptions(query);
    }
};
</div>
<div hljs>
$scope.addItem = function(query) {
    return createOption(query);
};
</div>
</div>
<pre class="col-md-6">
{{bundle15}}
</pre>
</div>

<h2>Customization</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name for item in shopArrFn($query) track by item.id"
    ng-model="bundle11"
    multiple
    oi-multiselect-options="{
        debounce: 200,
        searchFilter: 'mySearchFilter',
        dropdownFilter: 'myDropdownFilter',
        listFilter: 'myListFilter',
        saveLastQuery: 'mySaveLastQuery'
    }"
    placeholder="Select"
></oi-multiselect>
</div>
</div>
<div class="row">
<div class="col-md-6">
<div hljs>
ng-options="item.name for item in shopArrFn($query) track by item.id"
ng-model="bundle11"
multiple
oi-multiselect-options="{
    debounce: 200,
    searchFilter: 'mySearchFilter',
    dropdownFilter: 'myDropdownFilter',
    listFilter: 'myListFilter'
    saveLastQuery: 'mySaveLastQuery'
}"
</div>
<div hljs>
.filter('mySearchFilter', ['$sce', function($sce) {
    return function(label) {

    var html = '<i>' + label + '</i>';

    return $sce.trustAsHtml(html);
    };
}])
</div>
<div hljs>
.filter('myDropdownFilter', ['$sce', function($sce) {
    return function(label, query, option) {

    var html = '<kbd>#' + option.id + '</kbd> ' + label;

    return $sce.trustAsHtml(html);
    };
}]);
</div>
<div hljs>
.filter('myListFilter', function() {
    return function (list, query, getLabel) {
        return list;
    }
});
</div>
<div hljs>
.factory('mySaveLastQuery', function() {
    return function(removedValue, lastQuery) {
        return removedValue.name;
    };
})
</div>
</div>
<pre class="col-md-6">
{{bundle11}}
</pre>
</div>

<h2>All</h2>
<div class="row">
<div class="col-md-6">
<oi-multiselect
    ng-options="item.name group by item.category for item in shopArrFn($query) | limitTo: 3 track by item.id"
    ng-model="bundle12"
    multiple
    placeholder="Select"
></oi-multiselect>
</div>
</div>
<div class="row">
<div hljs class="col-md-6">
ng-options="item.name group by item.category for item in shopArrFn($query) | limitTo: 3 track by item.id"
ng-model="bundle12"
multiple
</div>
<pre class="col-md-6">
{{bundle12}}
</pre>
</div>
