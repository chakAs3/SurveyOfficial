<!-- The survey view -->
<section data-ng-controller="SurveysController" data-ng-init="findOne()">
	<h1 data-ng-bind="survey.title"></h1>
	<!-- Show the editing buttons to the survey creator -->
	<div data-ng-show="authentication.user._id == survey.creator._id">
		<a href="/#!/surveys/{{survey._id}}/edit">edit</a>
		<a href="/#!/" data-ng-click="delete();">delete</a>
	</div>
	<small>
		<em>Posted on</em>
		<em data-ng-bind="survey.created | date:'mediumDate'"></em>
		<em>by</em>
		<em data-ng-bind="survey.creator.fullName"></em>
	</small>
	<p data-ng-bind="survey.content"></p>
</section>

<br><br>

<section data-ng-controller="SurveysController" data-ng-init="findOne()">
<form-directive form="form"></form-directive><hr>

<div class="text-center">
	<a class="btn btn-small btn-primary" ng-show="!showJson" ng-click="showJson = true">Show form json object</a>
	<a class="btn btn-small btn-inverse" ng-show="showJson" ng-click="showJson = false">Hide form json object</a><br><br>
</div>

<div ng-show="showJson">
	<h4>Form object:</h4>
	<pre>{{ form | json }}</pre>
</div>

</section>
